<div class="tplinksettings">
    <h4>TP-Link Smartplug Settings</h4>
	<table class="table table-condensed" data-bind='visible: settings.settings.plugins.tplinksmartplug.arrSmartplugs().length > 0'>
		<thead>
			<tr>
				<th colspan="6" class="info">IP/Hostname</th>
			</tr>
			<tr>
				<th>Warn</th>
				<th>GCODE</th>
				<th>postConnect</th>
				<th>preDisconnect</th>
				<th>Cmd On</th>
				<th>Cmd Off</th>
			</tr>
		</thead>
		<tbody data-bind='foreach: settings.settings.plugins.tplinksmartplug.arrSmartplugs'>
			<tr data-bind='attr: {title: ip}' class="info">
				<td colspan="5"><input data-bind='value: ip, uniqueName: true' /></td>
				<td><a href="#" class="icon-trash" data-bind="click: $root.removePlug, visible: $root.settings.settings.plugins.tplinksmartplug.arrSmartplugs().length > 1"></a></td>
			</tr>
			<tr data-bind='visible: ip().length > 0, attr: {title: ip}'>
				<td><input type="checkbox" data-bind="checked: displayWarning, uniqueName: true"/></td>
				<td><input type="checkbox" data-bind="checked: gcodeEnabled, uniqueName: true"/></td>
				<td nowrap><input type="checkbox" data-bind="checked: autoConnect, uniqueName: true"/></td>
				<td nowrap><input type="checkbox" data-bind="checked: autoDisconnect, uniqueName: true"/></td>
				<td><input type="checkbox" data-bind="checked: sysCmdOn, uniqueName: true"/></td>
				<td><input type="checkbox" data-bind="checked: sysCmdOff, uniqueName: true"/></td>
			</tr>
			<tr data-bind='visible: autoConnect && ip().length > 0, attr: {title: ip}'>
				<td colspan="2">Auto Connect Delay</td>
				<td colspan="4"><input data-bind="value: autoConnectDelay, uniqueName: true" size="3" /></td>
			</tr>
			<tr data-bind='visible: autoDisconnect && ip().length > 0, attr: {title: ip}'>
				<td colspan="2">Auto Disconnect Delay</td>
				<td colspan="4"><input data-bind="value: autoDisconnectDelay, uniqueName: true" size="3" /></td>
			</tr>
			<tr data-bind='visible: sysCmdOn && ip().length > 0, attr: {title: ip}'>
				<td colspan="2">System Command On</td>
				<td colspan="4"><input data-bind="value: sysRunCmdOn, uniqueName: true" /></td>
			</tr>
			<tr data-bind='visible: sysCmdOn && ip().length > 0, attr: {title: ip}'>
				<td colspan="2">System Command On Delay</td>
				<td colspan="4"><input data-bind="value: sysCmdOnDelay, uniqueName: true" size="3" /></td>
			</tr>
			<tr data-bind='visible: sysCmdOff && ip().length > 0, attr: {title: ip}'>
				<td colspan="2">System Command Off</td>
				<td colspan="4"><input data-bind="value: sysRunCmdOff, uniqueName: true" /></td>
			</tr>
			<tr data-bind='visible: sysCmdOff && ip().length > 0, attr: {title: ip}'>
				<td colspan="2">System Command Off Delay</td>
				<td colspan="4"><input data-bind="value: sysCmdOffDelay, uniqueName: true" size="3" /></td>
			</tr>
		</tbody>
	</table>
	<button data-bind='click: addPlug'>Add Plug</button>
</div>